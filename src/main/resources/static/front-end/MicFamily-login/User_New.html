<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>

    <link href="css/style.css" rel="stylesheet">
    <script src="js/jquery-1.7.2.min.js"></script>
    <script src="js/scripts.js"></script>
    <script src="./vue/vue.min.js"></script>
    <script src="./js/axios.min.js"></script>
    <style>
        * {
            margin: 0px;
            padding: 0px;
        }

        #man {
            width: 100%;
            height: 600px;
            float: left;
            border: 0px;
        }
    </style>
</head>
<body>
<div id="app">
    <div id="bgStretch">
        <img alt src="images/bg_pic1.jpg">
    </div>
    <div id="glob">
        <div class="spinner"></div>
        <div class="pagin">
            <ul>
                <li class="active"><a href="images/bg_pic1.jpg"></a></li>
                <li><a href="images/bg_pic2.jpg"></a></li>
                <li><a href="images/bg_pic3.jpg"></a></li>
                <li><a href="images/bg_pic4.jpg"></a></li>
                <li><a href="images/bg_pic5.jpg"></a></li>
            </ul>
        </div>
        <div id="leftPanel">

            <header>
                <h1><a href="#!/page_home"></a></h1>
            </header>


            <nav class="menu">
                <ul id="menu">
                    <li><a href="#!/page_home">项目介绍</a></li>
                    <li><a href="#!/order_query">订单查询</a></li>
                    <li><a href="#!/page_parties">包厢查询</a></li>
                    <li><a href="#!/page_events">超市</a></li>
                    <li><a href="#!/page_gallery">结账</a></li>
                    <li><a href="#!/page_menu">公告管理</a></li>
                    <li><a href="#!/page_menu">呼叫服务</a></li>
                    <li class="no_bg"><a href="#!/page_mail">积分兑换推荐系统</a></li>
                    <li class="no_bg"><a href="#!/page_mail">KTV比分-需要奖励估算</a></li>
                </ul>
            </nav>
            <div class="reservation">
                <p class="text_0">reservation</p>
                <p class="text_1">麦家-MicFamily</p>
                <p class="text_2">company</p>
                <p class="text_3">中软国际</p>
            </div>

        </div>


        <section id="content">


            <ul>

                <li class="no_disp" id="page_home"></li>

                <li id="order_query">
                    <div class="container">
                        <div class="wrapper">
                            <div class="marg_1">
                                <h1>订单 <span>信息显示</span></h1>
                                <h2><span>您使用的包厢为：</span>B315<!--{{order.coRoom}}--></h2>
                                <table class="table table-striped table-m">
                                    <thead>
                                    <tr>
                                        <th>商品名</th>
                                        <th>下单时间</th>
                                        <th>小记</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr v-for="i in goodsList">
                                        <td>{{i.goodsName}}</td>
                                        <td>{{i.price}}</td>
                                        <td>{{i.quantity}}</td>
                                    </tr>
                                    </tbody>
                                </table>
                                <table class="table table-striped table-m">
                                    <tr>
                                        <th>总金额： ￥1000.00</th>
                                    </tr>
                                </table>

                            </div>
                        </div>
                    </div>
                </li>


                <li id="page_parties">
                    <div class="container">
                        <div class="wrapper">
                            <div class="marg_1">
                                <div class="block_4">


                                    <h2>您的订单信息<span>显示</span></h2>
                                    <form id="form1">
                                        <div class="success"><strong>以下是您房间的订单信息：</strong>

                                        </div>
                                        <fieldset>
                                            <div class="block_4_1">
                                                <label class="name">
                                                    <span class="title">房间号</span>
                                                    <input type="text" value="">
                                                    <span class="error">*This is not a valid name.</span> <span
                                                        class="empty">*This field is required.</span> </label>
                                            </div>

                                            <br class="clear">
                                            <div class="btns"><p><a class="btns_form " data-type="reset" href="#">清空</a><a
                                                    class="btns_form " data-type="submit" href="#">查询</a></p></div>
                                        </fieldset>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>

            </ul>
        </section>
        <!-- END CONTENT -->
        <!-- FOOTER -->
        <footer>
            <p> MicFamily &copy; 2022 <a href="#!/page_privacy">Privacy Policy</a></p>
            <!-- {%FOOTER_LINK} -->
        </footer>
        <!-- END FOOTER -->
    </div>


    <script>

        new Vue({
            el: "#app",
            data: {
                datalist: [],
                orderlist: {},
                id: 0,
                userId: 0,
                orderInquiry: {},
                goodsList: []

            },
            created() {

                this.userId = sessionStorage.getItem("userId");
                // alert(this.userId);
                this.getOrderById();

            },

            methods: {

                getOrderById() {
                    axios.put("http://localhost:8088/room/findcoRoomName?manager_id=" + this.userId).then(rel => {
                        console.log(rel.data);
                        this.orderInquiry = rel.data
                        this.goodsList = rel.data.goodsList;
                        console.log(this.goodsList);
                        if (!this.orderInquiry.flag) {
                            alert(this.orderInquiry.msg);
                        } else {


                        }

                    });
                }

            }

        });

    </script>
</div>

</body>
</html>